{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const myApiKey = '48292364-ad13d53928d4b39a49844bb07';\nconst urlApiBase = 'https://pixabay.com/api/';\n\nexport const fetchImages = searchedQuery => {\n    return fetch(`${urlApiBase}?q=${searchedQuery}&key=${myApiKey}&image_type=photo&orientation=horizontal&safesearch=true`).then(response => {   \n    if (!response.ok) {\n        throw new Error(response.status);\n    }\n    \n    return response.json();});\n  \n};","import iziToast from \"izitoast\";\n\nexport const createGalleryCardTemplate = imgInfo => {\n    return `\n        <li class=\"gallery-card\">\n            <a href=\"${imgInfo.largeImageURL}\">\n                <img src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\"/>\n            </a>\n            <div class=\"info\">\n                <p>Likes: ${imgInfo.likes}</p>\n                <p>Views: ${imgInfo.views}</p>\n                <p>Comments: ${imgInfo.comments}</p>\n                <p>Downloads: ${imgInfo.downloads}</p>\n            </div>\n        </li>`;\n};\n\nexport const showAlert = message => {\n    iziToast.show({\n        title: 'âŒ',\n        message: message,\n        position: 'topRight',\n        timeout: 3000,\n    });\n};","import SimpleLightbox from \"simplelightbox\";\nimport { fetchImages } from './js/pixabay-api.js';\nimport { createGalleryCardTemplate, showAlert } from './js/render-functions.js';\n\nconst formSearch = document.querySelector('.form');\nconst galleryEl = document.querySelector('.search-list');\nconst loader = document.querySelector('.loader');\n\nconst onFormSubmit = event => {\n    event.preventDefault();\n    const searchedQuery = event.currentTarget.elements.search.value.trim();\n\n    if (searchedQuery === '') {\n        showAlert('Enter text to search!');\n        return;\n    }\n\n    loader.classList.add('active');\n\n    fetchImages(searchedQuery).then(data => {\n        if (data.hits.length === 0) {\n            showAlert('Sorry, there are no images matching your search query. Please try again!');\n            galleryEl.innerHTML = '';\n            formSearch.reset();\n            return;\n        }\n\n        const galleryTemplate = data.hits.map(el => createGalleryCardTemplate(el)).join('');\n        galleryEl.innerHTML = galleryTemplate;\n\n        const lightbox = new SimpleLightbox('.gallery-card a', {\n            captionDelay: 250,\n            captionsData: 'alt',\n        });\n\n        lightbox.refresh();\n    }).catch(err => {\n        console.error(err);\n    }).finally(() => {\n        setTimeout(() => {\n            loader.classList.remove('active');\n        }, 1000);\n    });\n        \n};\n\nformSearch.addEventListener('submit', onFormSubmit);"],"names":["myApiKey","urlApiBase","fetchImages","searchedQuery","response","createGalleryCardTemplate","imgInfo","showAlert","message","iziToast","formSearch","galleryEl","loader","onFormSubmit","event","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAW,qCACXC,EAAa,2BAENC,EAAcC,GAChB,MAAM,GAAGF,CAAU,MAAME,CAAa,QAAQH,CAAQ,0DAA0D,EAAE,KAAKI,GAAY,CAC1I,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAAO,CAAC,ECPfC,EAA4BC,GAC9B;AAAA;AAAA,uBAEYA,EAAQ,aAAa;AAAA,4BAChBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,4BAG1CA,EAAQ,KAAK;AAAA,4BACbA,EAAQ,KAAK;AAAA,+BACVA,EAAQ,QAAQ;AAAA,gCACfA,EAAQ,SAAS;AAAA;AAAA,eAKpCC,EAAYC,GAAW,CAChCC,EAAS,KAAK,CACV,MAAO,IACP,QAASD,EACT,SAAU,WACV,QAAS,GACjB,CAAK,CACL,ECpBME,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAeC,GAAS,CAC1BA,EAAM,eAAc,EACpB,MAAMX,EAAgBW,EAAM,cAAc,SAAS,OAAO,MAAM,OAEhE,GAAIX,IAAkB,GAAI,CACtBI,EAAU,uBAAuB,EACjC,MACH,CAEDK,EAAO,UAAU,IAAI,QAAQ,EAE7BV,EAAYC,CAAa,EAAE,KAAKY,GAAQ,CACpC,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBR,EAAU,0EAA0E,EACpFI,EAAU,UAAY,GACtBD,EAAW,MAAK,EAChB,MACH,CAED,MAAMM,EAAkBD,EAAK,KAAK,IAAIE,GAAMZ,EAA0BY,CAAE,CAAC,EAAE,KAAK,EAAE,EAClFN,EAAU,UAAYK,EAEL,IAAIE,EAAe,kBAAmB,CACnD,aAAc,IACd,aAAc,KAC1B,CAAS,EAEQ,QAAO,CACxB,CAAK,EAAE,MAAMC,GAAO,CACZ,QAAQ,MAAMA,CAAG,CACzB,CAAK,EAAE,QAAQ,IAAM,CACb,WAAW,IAAM,CACbP,EAAO,UAAU,OAAO,QAAQ,CACnC,EAAE,GAAI,CACf,CAAK,CAEL,EAEAF,EAAW,iBAAiB,SAAUG,CAAY"}